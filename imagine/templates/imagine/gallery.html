{% extends "imagine/layout.html" %} {% load static %} {% block body %}

<!-- Modal -->
<div
  class="modal fade"
  id="postModal"
  tabindex="-1"
  aria-labelledby="postModalLabel"
  aria-hidden="true"
>
  <div class="modal-dialog modal-dialog-centered modal-xl">
    <div class="modal-content">
      <div class="modal-body">
        <img src="" class="modal-image img-fluid mx-auto d-block" />
        <div class="modal-text">
          <p class="my-3">Prompt used:</p>
          <p class="modal-prompt lead fst-italic"></p>
          <p class="modal-title text-muted">
            Generated By: <span class="modal-user"></span>
          </p>
        </div>
        <a class="btn btn-primary download-btn mt-4" href="" download>
          <i class="bi bi-download"></i>&nbsp; Download
        </a>
        <button type="button" class="btn btn-primary user-btn mt-4">
          <i class="bi bi-person-fill"></i>&nbsp; View user
        </button>
        <button type="button" class="btn btn-primary copy-btn mt-4">
          <i class="bi bi-clipboard2-fill"></i>&nbsp; Copy to clipboard
        </button>
      </div>
    </div>
  </div>
</div>

<div class="grid">
  <div class="grid-sizer"></div>
  {% for post in posts %}
  <div class="grid-item">
    <img
      src="{{ post.image.url }}"
      data-bs-toggle="modal"
      data-bs-target="#postModal"
      data-id="{{ post.id }}"
      data-user="{{ post.user }}"
      data-body="{{ post.body }}"
    />
  </div>
  {% endfor %}
</div>
<div class="d-flex justify-content-center mb-5">
  <button class="index-buttons load-more-button">Load more</button>
</div>
<h2 class="end mb-5" style="text-align: center; display: none">
  No more posts!
</h2>

{% endblock %} {% block script %}
<script src="{% static 'imagine/gallery.js' %}"></script>
<script
  type="module"
  src="https://unpkg.com/imagesloaded@5/imagesloaded.pkgd.min.js"
></script>
<script
  type="module"
  src="https://unpkg.com/masonry-layout@4/dist/masonry.pkgd.min.js"
></script>
{% endblock %}
